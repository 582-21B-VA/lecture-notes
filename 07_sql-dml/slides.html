<style>
    * {
        margin: 0;
    }
    html {
        scroll-snap-type: y mandatory;
    }
    body {
        font-family: Georgia, "Times New Roman", serif;
        line-height: 1.3;
    }
    code {
        font-family: menlo, monospace;
        font-size: 0.9rem;
    }
    img {
        width: 100%;
    }
    section {
        width: 100vw;
        height: 100vh;
        padding: 2rem;
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
        gap: 2rem;
        align-items: center;
        justify-content: center;
        scroll-snap-align: center;
    }
    ul {
        list-style: none;
        padding: 0;
        margin: 0;
        max-width: 40ch;
    }
    li {
        margin: 0;
    }
</style>
<section>
    <h2 id="basic-queries">Basic queries</h2>
    <pre><code>SELECT [DISTINCT] &lt;column-expression&gt;
FROM   &lt;table&gt;
[WHERE &lt;predicate&gt;]</code></pre>
    <ul>
        <li>Produces all tuples that satisfy the predicate.</li>
        <li>Outputs the expressions in the <code>SELECT</code> list.</li>
        <li>
            Expressions can be column references, or an arithmetic expressions.
        </li>
    </ul>
</section>
<section>
    <h2 id="uniqueness">Uniqueness</h2>
    <pre><code>SELECT DISTINCT colors
FROM   Boats;</code></pre>
    <ul>
        <li><code>DISTINCT</code> removes duplicate rows from the output.</li>
    </ul>
</section>
<section>
    <h2 id="string-comparisons">String comparisons</h2>
    <pre><code>SELECT sname
FROM   Sailors
WHERE  sname LIKE &#39;A%&#39;

SELECT sname
FROM   Sailors
WHERE  sname REGEXP &#39;A.*&#39;;</code></pre>
    <ul>
        <li>These two queries are equivalent.</li>
    </ul>
</section>
<section>
    <h2 id="order">Order</h2>
    <pre><code>SELECT sname, age
FROM   Sailors
ORDER  BY sname;</code></pre>
    <ul>
        <li>
            <code>ORDER BY</code> specifies that the rows should be ordered
            lexicographically.
        </li>
        <li>It must refer to columns that are in the output.</li>
    </ul>
</section>
<section>
    <h2 id="ascending-or-descending">Ascending or descending</h2>
    <pre><code>SELECT sname, age
FROM   Sailors
ORDER  BY age ASC, sname DESC;</code></pre>
    <ul>
        <li>Ascending order is used by default.</li>
        <li>
            <code>DESC</code> and <code>ASC</code> can be used to change the
            order.
        </li>
        <li>Can mix and match.</li>
    </ul>
</section>
<section>
    <h2 id="limit">Limit</h2>
    <pre><code>SELECT sname, age
FROM   Sailors
ORDER  BY age
LIMIT  5;</code></pre>
    <ul>
        <li>
            <code>LIMIT</code> specifies the maximum number of rows to output.
        </li>
        <li>
            Typically used with <code>ORDER BY</code>, otherwise the output is
            <em>non-deterministic</em>.
        </li>
    </ul>
</section>
<section>
    <h2 id="aggregates">Aggregates</h2>
    <pre><code>SELECT AVG(age)
FROM   Sailors;</code></pre>
    <ul>
        <li>An aggregate computes a summary of some arithmetic expression.</li>
        <li>It produces one row of output.</li>
        <li>
            Other aggregates: <code>SUM</code>, <code>COUNT</code>,
            <code>MAX</code>, <code>MIN</code>.
        </li>
    </ul>
</section>
<section>
    <h2 id="column-names">Column names</h2>
    <pre><code>SELECT AVG(age) AS &quot;age average&quot;
FROM   Sailors;</code></pre>
</section>
<section>
    <h2 id="groups">Groups</h2>
    <pre><code>SELECT age, AVG(rating) AS &quot;rating average&quot;
FROM Sailors
GROUP BY age;</code></pre>
    <ul>
        <li>
            <code>GROUP BY</code> partitions the output into groups with the
            same column values.
        </li>
        <li>It produces an aggregate result per group.</li>
    </ul>
</section>
<section>
    <h2 id="filtering-groups">Filtering groups</h2>
    <pre><code>SELECT age, AVG(rating) AS &quot;rating average&quot;
FROM Sailors
GROUP BY age
HAVING COUNT(age) &gt; 1;</code></pre>
    <ul>
        <li>The <code>HAVING</code> predicate filters groups.</li>
        <li>It is applied <em>after</em> grouping and aggregation.</li>
        <li>It can only be used in aggregate queries.</li>
    </ul>
</section>
<section>
    <h2 id="distinct-aggregates">Distinct aggregates</h2>
    <pre><code>SELECT COUNT(DISTINCT age)
FROM Sailors;</code></pre>
    <pre><code>SELECT DISTINCT COUNT(age)
FROM Sailors;</code></pre>
    <ul>
        <li>These two queries are <em>not</em> equivalent.</li>
    </ul>
</section>
<section>
    <h2 id="table-aliases">Table aliases</h2>
    <pre><code>SELECT S.sname, S.age
FROM Sailors S
WHERE S.age &gt; 30;</code></pre>
</section>
<section>
    <h2 id="conceptual-evaluation-strategy">Conceptual evaluation strategy</h2>
    <figure>
        <img src="eval-strategy.png" alt="evaluation strategy" />
    </figure>
</section>
